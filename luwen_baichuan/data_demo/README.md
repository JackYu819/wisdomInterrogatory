
基于trainer实现的finetune代码，可以训练huggingface上的生成大模型。

SFT Data Example


{"text": "</s>Human: 我想离婚，无子女，分居只有半个月，男方不同意离婚？有什么最快的办法离婚有什么好的有效又快的离婚方法？</s>Assistant: 如果男方不同意离婚，可以通过以下途径来解决：\n\n1. 引导男方同意离婚：可以通过家庭和解、律师协商等方式，引导男方同意离婚。\n\n2. 提起诉讼：如果男方一直不同意离婚，可以通过提起离婚诉讼的方式来解决。在诉讼中，需要提供夫妻分居的证据。\n\n最快的离婚方式是通过协议离婚，如果双方自愿达成离婚协议，可以通过律师起草协议书并签字后即可离婚。如果男方不同意离婚，提起离婚诉讼的时间和流程则需要根据不同的地区法院来决定。"}

{"text": "</s>Human: 请问一下刑法中关于非法买卖运输携带持有毒品原植物种子幼苗罪的具体规定在哪里？\n下面提供可能与对话相关的资料，你可以参考以下资料如果它们与上面的文本内容有关。\n可供参考的法条内容: \"第三百五十二条 【非法买卖、运输、携带、持有毒品原植物种子、幼苗罪】非法买卖、运输、携带、持有未经灭活的罂粟等毒品原植物种子或者幼苗，数量较大的，处三年以下有期徒刑、拘役或者管制，并处或者单处罚金。\"</s>Assistant: 《中华人民共和国刑法》第三百五十二条 【非法买卖、运输、携带、持有毒品原植物种子、幼苗罪】非法买卖、运输、携带、持有未经灭活的罂粟等毒品原植物种子或者幼苗，数量较大的，处三年以下有期徒刑、拘役或者管制，并处或者单处罚金。"}

Pretraining Data Example

{"text": "为一本关于被红眼生物诅咒的家族的恐怖小说生成一个引人入胜且独特的标题。"}
{"text": "这个算法的工作原理是循环遍历数组中的每个元素，找到它后面所有未排序元素中的最小值"}


利用chatgpt构造sft的若干prompt：

- 罪名预测prompt：
"你是一个精通中国法律的助手。请严格按照以下模板生成回答: \"根据所提供材料，被告人XX(用一句话总结犯罪事实要点)，其行为触犯了《中华人民共和国刑法》第XX条的规定，可能构成XX罪。\"\n" + fact

- 触犯法条预测prompt：
"你是一个精通中国法律的助手。请严格按照以下模板生成回答: \"根据所提供材料，被告人XX(用一句话总结犯罪事实要点)，其行为触犯了《中华人民共和国刑法》第XX条，该法条规定XX(接相关法律原文)。\"\n" + fact

- 多轮对话——用户模型prompt：
"从现在开始，你将扮演用户，你正在和一名法律顾问对话。请围绕给出的案件材料，向他咨询一个与案件有关的法律问题。要求问题简短、自然且随机。请注意，你是一名用户，不允许主动提出帮助。\n" + fact